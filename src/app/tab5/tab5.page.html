<ion-header collapse="condense">
  <ion-toolbar>
    <div class="d-flex align-items-center">
      <img src="../../assets/images/Zacchino.png" style="width: auto; height: 35px;" />
      <ion-title size="large">DigitalGrow</ion-title>
    </div>


  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <div class="d-flex flex-column justify-content-center">
    <div class="primary-card-border-radius p-2 m-3 mt-4 d-flex flex-column align-items-center justify-content-center
          primary-card-border
          primary-card-background primary-card-background-green">
      <div class="mt-3" style="border-radius: 50%; background: white; height: 75px; width: 75px;">

      </div>
      <p class="mt-3"> Username</p>
      <p class=""> Email</p>
    </div>

    <ion-card class="border-radius-container-tips-general">

      <ion-card-header>
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <ion-card-title>Preferenza notifiche</ion-card-title>
          </div>
        </div>

      </ion-card-header>

      <ion-card-content>
        @for (item of notificationPreferences; track $index) {
        <!-- (ionChange)="toggleNotificationPreference(item)" -->
        <ion-toggle class="my-2" [enableOnOffLabels]="true" [checked]="item.value" labelPlacement="end">
          {{ item.label }}
        </ion-toggle>
        }

      </ion-card-content>

    </ion-card>

    <ion-card class="primary-card-border-radius
          primary-card-border
          primary-card-background primary-card-background-green">
      <ion-card-header>
        <ion-card-title>Cambio Password</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="changePasswordForm" (ngSubmit)="savePassword()">

          <ion-item class="input-item" lines="none">
            <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
            <ion-input
              label="Password Attuale"
              labelPlacement="floating"
              type="password"
              formControlName="currentPassword">
            </ion-input>
          </ion-item>

          <ion-item class="input-item" lines="none">
            <ion-icon name="key-outline" slot="start"></ion-icon>
            <ion-input
              label="Nuova Password"
              labelPlacement="floating"
              type="password"
              formControlName="newPassword">
            </ion-input>
          </ion-item>

          <ion-item class="input-item" lines="none">
            <ion-icon name="key-outline" slot="start"></ion-icon>
            <ion-input
              label="Conferma Nuova Password"
              labelPlacement="floating"
              type="password"
              formControlName="confirmPassword">
            </ion-input>
          </ion-item>
          
          <ion-button class="mt-3 add-plot-button" type="submit" expand="block" [disabled]="changePasswordForm.invalid">
            Salva Nuova Password
          </ion-button>

        </form>
      </ion-card-content>
    </ion-card>

    <ion-button class="mt-3 mx-5 add-plot-button mb-5" fill="solid" color="danger" (click)="goToLogin()">
      Logout
    </ion-button>
  </div>
</ion-content>